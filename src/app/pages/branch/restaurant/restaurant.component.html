<ngb-carousel *ngIf="images" [showNavigationArrows]="false">
  <ng-template ngbSlide *ngFor="let image of images; let i = index">
    <div class="image-container">
      <img [src]="image" [alt]="'promo-image-'+i">
    </div>
  </ng-template>
</ngb-carousel>

<div *ngIf="showSelectOrderMode" class="nav-back-icon" (click)="goBack()">
  <app-icon-arrow-left color="white"></app-icon-arrow-left>
</div>

<div class="restaurant-container">

  <div class="d-flex flex-row align-items-center">
    <app-caption [isSemiBold]="true">Delivery from</app-caption>
    <app-icon-chevron-down class="ml-2" [width]="10"></app-icon-chevron-down>
  </div>

  <div class="d-flex flex-row justify-content-between align-items-center">
    <app-heading-3>{{ branchData?.branchName || '&nbsp;' }}</app-heading-3>
    <div class="restaurant-title-icon">
      <a [href]="'tel:' + branchData?.phone">
        <img src="/assets/image/phone.svg" alt="Call restaurant">
      </a>
      <img class="ml-3" src="/assets/image/info.svg" alt="Restaurant info">
    </div>
  </div>

  <app-caption>{{ branchData?.address || '&nbsp;' }}</app-caption>
  <app-caption color="grey">Open {{ businessHourText }}</app-caption>

  <div class="promo-button-container">
    <app-promo-button [text]="'You have ' + (promotions?.length || 0) + ' promos available'"></app-promo-button>
  </div>

  <ng-container *ngIf="!!menuData">

    <!-- Popular Section -->
    <div
      *ngIf="!!popularMenu.length"
      class="section-container">
      <app-heading-5 color="grey">POPULAR</app-heading-5>

      <div class="popular-menu-list d-flex flex-row justify-content-evenly align-items-center">

      </div>
    </div>
    <!-- Popular Section -->

    <!-- Price Chopped Section -->
    <div
      *ngIf="!!priceChoppedMenu.length"
      class="section-container">
      <app-heading-5 color="grey">PRICE CHOPPED</app-heading-5>

      <div class="popular-menu-list d-flex flex-row justify-content-evenly align-items-center">

      </div>
    </div>
    <!-- Price Chopped Section -->

    <!-- Menu List -->
    <div
      *ngFor="let menuCategories of menuData?.menuCategories"
      class="section-container">
      <app-heading-5 color="grey">{{ menuCategories.menuCategoryDesc }}</app-heading-5>

      <div class="menu-list d-flex flex-row justify-content-evenly align-items-center">

      </div>
    </div>
    <!-- Menu List -->

  </ng-container>

</div>

<div
  [(ngbCollapse)]="showSelectOrderMode"
  #collapsOrderMode="ngbCollapse"
  class="select-order-mode-container"
>
  <div class="order-mode">
    <div class="d-flex flex-row justify-content-between">
      <app-heading-3 class="order-mode-title">How would you like to order today?</app-heading-3>
      <div (click)="goBack()">
        <app-icon-close></app-icon-close>
      </div>
    </div>

    <div class="d-flex flex-column mt-3">
      <app-caption>METHOD</app-caption>

      <div class="mode-container d-flex flex-row justify-content-around">
        <button class="mode-button" [ngClass]="{ active: mode.type === selectedOrderMode}" *ngFor="let mode of orderModes" (click)="selectOrderMode(mode.type)">
          <span class="mode-text">
            {{ mode.type === 'delivery' ? 'Delivery' : 'In-Store Pick Up' }} 
          </span>
          <span class="mode-icon">
            <app-icon-delivery-bike *ngIf="mode.type === 'delivery'" [color]="mode.type === selectedOrderMode ? 'white' : 'grey'"></app-icon-delivery-bike>
            <app-icon-bag *ngIf="mode.type === 'takeAway'" [color]="mode.type === selectedOrderMode ? 'white' : 'grey'"></app-icon-bag>
          </span>
        </button>
      </div>

      <div *ngIf="selectedOrderMode === 'takeAway'" class="d-flex flex-column">
        <app-caption>TIME</app-caption>

        <app-time-picker
          (selectedHourChanged)="onSelectedHour($event)"
          (selectedMinuteChanged)="onSelectedMinute($event)"
        ></app-time-picker>

      </div>

      <app-primary-button
        *ngIf="selectedOrderMode !== ''"
        class="mt-3"
        text="CONTINUE"
        (clicked)="clickContinueOrderMode()"
      ></app-primary-button>
    </div>
  </div>
</div>